<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Webpage Renderer</title>
    <!-- CodeMirror CSS & Theme -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/dracula.min.css">
    <link rel="icon"
        href="https://raw.githubusercontent.com/shashwat-r-weblab/shashwat-r-weblab.github.io/refs/heads/main/webpage-renderer/webpage-renderer-icon250.png"
        type="image/png">
    <style>
        body {
            margin: 0;
            font-family: sans-serif;
            height: 100vh;
            display: flex;
            flex-direction: column;
            background: #1e1e1e;
        }

        .toolbar {
            display: flex;
            flex-direction: column;
        }

        .toolbar button {
            width: 100%;
            padding: 14px;
            background: #007acc;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 15px;
            font-weight: bold;
        }

        .separator {
            height: 4px;
            background: #222;
        }

        .editor,
        .preview {
            flex: 1;
            width: 100%;
            height: 100%;
            border: none;
            box-sizing: border-box;
        }

        .preview {
            display: none;
        }

        .CodeMirror {
            height: 100%;
            font-size: 14px;
        }

        /* Dark scrollbar styling */
        .CodeMirror-scrollbar-filler,
        .CodeMirror-gutter-filler {
            background: #1e1e1e;
        }

        .CodeMirror ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        .CodeMirror ::-webkit-scrollbar-track {
            background: #1e1e1e;
        }

        .CodeMirror ::-webkit-scrollbar-thumb {
            background: #444;
            border-radius: 5px;
        }

        .CodeMirror ::-webkit-scrollbar-thumb:hover {
            background: #666;
        }

        /* Firefox */
        .CodeMirror {
            scrollbar-width: thin;
            scrollbar-color: #444 #1e1e1e;
        }
    </style>
</head>

<body>
    <div class="toolbar">
        <button id="toggleBtn">Switch to Render</button>
        <div class="separator"></div>
    </div>

    <textarea id="editor" class="editor">
<!DOCTYPE html>
<html>
<head>
  <style>
    body { background: #1e1e1e; color: #eee; font-family: sans-serif; }
    h1 { color: #ff6f61; }
  </style>
</head>
<body>
  <h1>Hello World</h1>
  <p>This is a test!</p>
  <script>
    console.log("JS is running!");
</script>
</body>
</html>
  </textarea>

    <iframe id="preview" class="preview"></iframe>

    <!-- CodeMirror JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/xml/xml.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/css/css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/htmlmixed/htmlmixed.min.js"></script>

    <script>
        // Initialize CodeMirror
        const textarea = document.getElementById("editor");
        const editor = CodeMirror.fromTextArea(textarea, {
            mode: "htmlmixed",
            theme: "dracula",
            lineNumbers: true,
            tabSize: 2
        });

        const toggleBtn = document.getElementById("toggleBtn");
        const preview = document.getElementById("preview");
        let showingCode = true;

        toggleBtn.addEventListener("click", () => {
            if (showingCode) {
                // Switch to Render mode
                preview.style.display = "block";
                editor.getWrapperElement().style.display = "none";
                preview.srcdoc = editor.getValue();
                toggleBtn.textContent = "Switch to Code";
            } else {
                // Switch to Code mode
                preview.style.display = "none";
                editor.getWrapperElement().style.display = "block";
                toggleBtn.textContent = "Switch to Render";
            }
            showingCode = !showingCode;
        });
    </script>
</body>

</html>
